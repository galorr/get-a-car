<div class="app-container">
  <!-- Side Navigation -->
  <app-side-nav></app-side-nav>

  <!-- Main Content Area -->
  <div class="main-content">
    <!-- Loading Overlay -->
    @if (isLoading()) {
      <div class="loading-overlay">
        <div class="spinner"></div>
        <p>Loading car data...</p>
      </div>
    }

    <!-- Navigation Loading Indicator -->
    @if (isNavigating()) {
      <div class="navigation-progress">
        <div class="progress-bar"></div>
      </div>
    }

    <!-- Router Outlet for Route-based Content -->
    <router-outlet></router-outlet>

    <!-- Overlay Components (These will be shown based on the current route) -->
    <!-- Search Component (Overlay) -->
    <app-search></app-search>

    <!-- Car Grid (Overlay) -->
    <div class="grid-container" [class.collapsed]="isGridCollapsed()">
      <app-car-grid (toggleGrid)="toggleGrid()"></app-car-grid>
    </div>

    <!-- Toggle Registration Button -->
    <button class="toggle-registration-button" (click)="toggleRegistration()">
      {{ showRegistration() ? 'Hide Registration' : 'Show Registration' }}
    </button>
  </div>
</div>
